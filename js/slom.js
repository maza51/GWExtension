function getXmlHttp(){var xmlhttp; try {xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");} catch (e) { try {xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");} catch (E) { xmlhttp = false;}} if (!xmlhttp && typeof XMLHttpRequest!='undefined') {xmlhttp = new XMLHttpRequest();} return xmlhttp;}document.addEventListener("DOMContentLoaded", function() {		var a_G = { "[G] West Village":"47|47", "[G] Greenwitch Village":"48|47", "[G] Xenon sector":"49|47", "[G] Seaside walleys":"50|47", "[G] Spaceweed Drift":"51|47", "[G] Freestylers":"52|47", "[G] Killerloop hills":"53|47",		"[G] Love's pity":"47|48", "[G] Burton Riders":"48|48", "[G] Yanks":"49|48", "[G] Shametown":"50|48", "[G] Bronhs":"51|48", "[G] Rollers Point":"52|48", "[G] Igel's Fort":"53|48",		"[G] Sheever place":"47|49", "[G] Old Dublin":"48|49", "[G] Middlemud":"49|49", "[G] Katamza Hills":"50|49", "[G] 13th District":"51|49", "[G] Rastaman`s Quarters":"52|49", "[G] Respect Hill":"53|49",		"[G] Cheaters nest":"47|50", "[G] Heavy Fuel":"48|50", "[G] West Side City":"49|50", "[G] Ganja City Downtown":"50|50", "[G] N.Y City":"51|50", "[G] Green Parks":"52|50", "[G] Shipping Bay":"53|50",		"[G] Local park":"47|51", "[G] Riverside North":"48|51", "[G] Shoreside Vale":"49|51", "[G] Tishka & Тихая Valley":"50|51", "[G] China-Town":"51|51", "[G] Extrim Hills":"52|51", "[G] Alice heart":"53|51",		"[G] Red point":"47|52", "[G] Ganjabase Southwest":"48|52", "[G] The Wall Streets":"49|52", "[G] Klamath":"50|52", "[G] Vault 15":"51|52", "[G] Hammerside":"52|52", "[G] Black point":"53|52",		"[G] Lexus base":"47|53", "[G] 47th street":"48|53", "[G] Failure of perl":"49|53", "[G] Death avenue":"50|53", "[G] Lost sector":"51|53", "[G] White Brooklyn":"52|53", "[G] Black Brooklyn":"53|53",		"[Z] Cygnus Base":"152|148", "[Z] Power Lost":"149|149", "[Z] Crystal Sector":"150|149", "[Z] Mind's Eye":"151|149", "[Z] Kintull":"152|149", "[Z] Katenian":"149|150",		"[Z] Cyborg Capital":"150|150", "[Z] Energy One":"151|150", "[Z] Surfear":"149|151", "[Z] Victoria":"150|151", "[Z] Tyranny land":"151|151", "[Z] Firecloud":"152|151",		"[Z] Grand Port":"149|152", "[Z] Freedom End":"151|152", "[Z] Waterping":"152|152" };		function error() {		document.getElementById('theme').outerHTML = '<center>Вас нет на Z || G острове?</center>';	}		window.getslom = function (m) {		document.body.bgColor = '#f5fff5';		opera.extension.bgProcess.doHeight(23+26);		opera.extension.bgProcess.doWidth(430);		var post = document.getElementById('post') || document.getElementById('theme');		if (post) post.outerHTML = '<table id="theme" style="border-left: 1px #339933 solid; border-right: 1px #339933 solid;"><tr>'		+'<td title="Сортировать по id" style="width: 55px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'id\')"><b> id</b></td>'		+'<td title="Сортировать по названию сектора" style="width: 140px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'sector\')"><b> Сектор</b></td>'		+'<td title="Сортировать по кол-ву часов до воссановления" style="width: 50px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'hours\')"><b>Часы</b></td>'		+'<td title="Сортировать по мин. производственному уровню" style="width: 55px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'minlvl\')"><b>Производ</b></td>'		+'<td title="Сортировать по кол-ву мест" style="width: 40px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'mesta\')"><b> Места</b></td>'		+'<td title="Сортировать по премии" style="width: 50px; height: 18px; font-size: 9pt; color:#003300; cursor: s-resize" onclick="getslom(\'premia\')"><b> Премия</b></td>'		+'</tr></table>';				var r = getXmlHttp();		r.open('GET', 'http://vodkapower.ru/gw/slomnedviga.php?sort='+m, true);		r.onreadystatechange = function() {			if (r.readyState == 4) {				if(r.status == 200) {					var txt = r.responseText.match(/<div>(.*)<\/div>/i)[1];					txt = txt.split('<br>');					var sort = widget.preferences.sort_land;					var mesec = widget.preferences.sector;					if (mesec == 'undefined') { error(); return false; }					var count = txt.length-1;					var c_dubl = 0;					for (i = 0; i < count; i++) {;						var tmp = txt[i].match(/<li>(.*)<\/li>/i)[1].split(' | ');						var meland = mesec.match(/\[(.*)\]/);												if (!meland) { error(); return false; }												if (sort == '0' || tmp[1].match(/\[(.*)\]/)[1] == meland[1]) {							if (c_dubl < 23) opera.extension.bgProcess.doHeight((c_dubl+(count>=23?1:0))*23+26);							c_dubl++;							var tr = document.createElement('tr');							var td = document.createElement('td');							td.title = 'id';							td.style.height = '18px';							td.style.width = '55px';							var nobr = document.createElement('nobr');							var a = document.createElement('a');							a.target = "_blank";							a.href = "http://www.ganjawars.ru/object.php?id="+tmp[0];							//a.style.textDecoration = "none";							a.innerHTML = tmp[0];							a.style.fontSize = "8pt";							nobr.appendChild(a);							td.appendChild(nobr);							tr.appendChild(td);														td = document.createElement('td');							td.title = 'Сектор';							td.style.height = '18px';							td.style.width = '140px';							var nobr = document.createElement('nobr');							a = document.createElement('a');							a.target = "_blank";														if (tmp[1] == mesec) {								a.style.color = '#ff0404';								var tmp_nu1 = a_G[mesec].split('|');								a.href = "http://www.ganjawars.ru/map.php?sx="+tmp_nu1[0]+"&sy="+tmp_nu1[1];							}							else {								var tmp_nu1 = a_G[mesec].split('|');								var tmp_nu2 = a_G[tmp[1]].split('|');								a.href = "http://www.ganjawars.ru/map.php?sx="+tmp_nu2[0]+"&sy="+tmp_nu2[1];								if (tmp_nu1[0]-tmp_nu2[0] == 1 || tmp_nu1[0]-tmp_nu2[0] == 0) {									if (tmp_nu1[1]-tmp_nu2[1] == 1 || tmp_nu2[1]-tmp_nu1[1] == 1 || tmp_nu2[1]-tmp_nu1[1] == 0) {										a.style.color = '#ED7C02';									}								}								if (tmp_nu2[0]-tmp_nu1[0] == 1 || tmp_nu2[0]-tmp_nu1[0] == 0) {									if (tmp_nu1[1]-tmp_nu2[1] == 1 || tmp_nu2[1]-tmp_nu1[1] == 1 || tmp_nu2[1]-tmp_nu1[1] == 0) {										a.style.color = '#ED7C02';									}								}							}														a.innerHTML = tmp[1];							nobr.appendChild(a);							td.appendChild(nobr);							tr.appendChild(td);														td = document.createElement('td');							td.title = 'Время до полного восстановления';							td.style.height = '18px';							td.style.width = '50px';							var nobr = document.createElement('nobr');							var font = document.createElement('font');							font.style.color = "#003300";							font.style.fontSize = "10pt";							font.innerHTML = tmp[2];							nobr.appendChild(font);							td.appendChild(nobr);							tr.appendChild(td);														td = document.createElement('td');							td.title = 'Минимальный производственный уровень';							td.style.height = '18px';							td.style.width = '55px';							var nobr = document.createElement('nobr');							var font = document.createElement('font');							font.style.color = "#003300";							font.style.fontSize = "10pt";							font.innerHTML = tmp[3];							nobr.appendChild(font);							td.appendChild(nobr);							tr.appendChild(td);														td = document.createElement('td');							td.title = 'Свободные места';							td.style.height = '18px';							td.style.width = '40px';							var nobr = document.createElement('nobr');							var font = document.createElement('font');							font.style.color = "#003300";							if (tmp[4] == '0') font.style.color = "#809980";							font.style.fontSize = "10pt";							font.innerHTML = tmp[4];							nobr.appendChild(font);							td.appendChild(nobr);							tr.appendChild(td);														td = document.createElement('td');							td.title = 'Премия';							td.style.height = '18px';							td.style.width = '50px';							var nobr = document.createElement('nobr');							var font = document.createElement('font');							font.style.color = "#003300";							font.style.fontSize = "10pt";							font.innerHTML = '$'+tmp[5];							nobr.appendChild(font);							td.appendChild(nobr);							tr.appendChild(td);														document.getElementById('theme').appendChild(tr);						}					}				}			}		};		r.send(null);	}}, false);